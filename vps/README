chef
====
[Quick Start](http://wiki.opscode.com/display/chef/Quick+Start)  

workstation
----

```
cd ~
git clone git://github.com/opscode/chef-repo.git
```

```
mkdir -p ~/chef-repo/.chef
cp USERNAME.pem ~/chef-repo/.chef
cp ORGANIZATION-validator.pem ~/chef-repo/.chef
cp knife.rb ~/chef-repo/.chef
```

```
cd ~/chef-repo
knife client list
knife cookbook site vendor chef-client  
knife cookbook upload chef-client
``` 

```
ssh root@dev.fssle.com 'sh -c "mkdir ~/.ssh"'
scp ~/.ssh/id_rsa.pub root@dev.fssle.com:/root/.ssh/authorized_keys
knife bootstrap dev.fssle.com -r 'recipe[chef-client]'                     
```  

``` 
{
  "name": "base",
  "default_attributes": {
    "chef": {
      "server_url": "https://api.opscode.com/organizations/#{YOUR COMPANY!}",
      "cache_path": "/var/chef/cache",
      "backup_path": "/var/chef/backup",
      "validation_client_name": "#{YOUR COMPANY!}-validator",
      "run_path": "/var/chef"
    }
  },
  "json_class": "Chef::Role",
  "run_list": [
  	"recipe[ubuntu::default]",
    "recipe[build-essential::default]",
    "recipe[git::default]", 
    "recipe[ruby::default]",
    "recipe[rubygems::default]",
    "recipe[runit::default]", 
		"recipe[unicorn::default]",
		"recipe[rvm::default]",
		"recipe[bluepill::default]"
  ],
  "description": "Basic Server",
  "chef_type": "role",
  "override_attributes": {
  }
}
```
```
knife role create base 
knife role from file roles/base.json 

knife node list
knife node show "dev.fssle.com" -r 
                                          

knife cookbook site vendor ubuntu
knife cookbook site vendor build-essential
knife cookbook site vendor git
knife cookbook site vendor ruby
knife cookbook site vendor rubygems
knife cookbook site vendor runit
knife cookbook site vendor unicorn
knife cookbook site vendor rvm
knife cookbook site vendor bluepill
                         
knife node run_list add "dev.fssle.com" "role[base]"
 
knife cookbook upload -a
```
 
client
----

```
apt-get update
chef-client
chef-client -l debug
chef-client -i 3600 -s 600
```                


